                
% ----------------------------------------------------------------------
%                   LATEX TEMPLATE FOR PhD THESIS
% ----------------------------------------------------------------------

% based on Harish Bhanderi's PhD/MPhil template, then Uni Cambridge
% http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/ThesisStyle/
% corrected and extended in 2007 by Jakob Suckale, then MPI-CBG PhD programme
% and made available through OpenWetWare.org - the free biology wiki


%: Style file for Latex
% Most style definitions are in the external file PhDthesisPSnPDF.
% In this template package, it can be found in ./Latex/Classes/
\documentclass[twoside,11pt,table,xcdraw]{Latex/Classes/PhDthesisPSnPDF}

\newcommand{\ana}[2][inline]{\color{red} [AI]: #2\color{black}}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{lipsum}  
\usepackage{multirow}
\usepackage{xcolor}
\usepackage{rotating}
\usepackage{caption}
\usepackage{lscape}
\usepackage{hvfloat}
%\usepackage[table,xcdraw]{xcolor}
\usepackage{balance}

\usepackage[ruled,vlined]{algorithm2e}

\usepackage[normalem]{ulem}
\useunder{\uline}{\ul}{}
\usepackage{color}
\usepackage{makecell}
\usepackage{tabu, booktabs}


\usepackage{listings,chngcntr}
\def\dollar{\$}
\lstset{mathescape=true}
\lstset{%
	basicstyle=\scriptsize\ttfamily,%
	basewidth=.5em,%
	captionpos=b,
	frame=single,
	tabsize=4,
	numbers=left}%
\lstset{
	escapechar={(@}{^)}
}
\lstset{
   literate=
        {í}{{\'i}}1
        {ñ}{{\~n}}1
}
%% -- Listings

\colorlet{punct}{red!60!black}
%\definecolor{background}{HTML}{EEEEEE}
%\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}
\definecolor{burgundy}{rgb}{0.5, 0.0, 0.13}
\lstdefinelanguage{json}{
	keywords=[1]{},
	keywordstyle=[1]\color{teal}\bfseries,
	keywords=[2]{resource_rules, id, datasource_ids, subject, properties, predicate, object, is_literal, link_rules, condition, source, target},	% types; money and time units
	keywordstyle=[2]\color{burgundy}\bfseries,
    basicstyle=\footnotesize\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    identifierstyle=\color{black},
    breaklines=true,
    %backgroundcolor=\color{verylightgray},
    literate=
     *{:}{{{\color{black}{:}}}}{1}
      {\$}{{{\color{punct}{\$}}}}{1}
      {,}{{{\color{red}{,}}}}{1}
      {\{}{{{\color{red}{\{}}}}{1}
      {\}}{{{\color{red}{\}}}}}{1}
      {[}{{{\color{red}{[}}}}{1}
      {]}{{{\color{red}{]}}}}{1},
}
\definecolor{bittersweet}{rgb}{1.0, 0.44, 0.37}
\lstdefinelanguage{Shex}{
	keywords=[1]{},
	keywordstyle=[1]\color{teal}\bfseries,
	keywords=[2]{SOURCE, ITERATOR, FIELD},	% types; money and time units
	keywordstyle=[2]\color{bittersweet}\bfseries,
	keywords=[3]{c_city, cities_rdb, coord_json, it_cities, population, year, zipcode, it_coord, lat, long, loc_city, long},
	keywordstyle=[3]\color{teal}\bfseries,
	identifierstyle=\color{black},
	sensitive=true,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{black}\ttfamily,
	stringstyle=\color{fulvous}\bfseries,
	morestring=[b]',
	morestring=[b]",
	literate=
     *{\{}{{{\color{bittersweet}{\{}}}}{1}
      {\}}{{{\color{bittersweet}{\}}}}}{1}
      {<}{{{\color{bittersweet}{<}}}}{1}
      {>}{{{\color{bittersweet}{>}}}}{1},
}

\lstdefinelanguage{yarrrml}{
	keywords=[1]{},
	keywordstyle=[1]\color{teal}\bfseries,
	keywords=[2]{mappings, sources, s, po, function, parameters, value, parameter},	% types; money and time units
	keywordstyle=[2]\color{violet}\bfseries,
	keywords=[3]{Locations, Cities},
	keywordstyle=[3]\color{teal}\bfseries,	
	keywords=[4]{xsd, double, integer, boolean, decimal, string},
	keywordstyle=[4]\color{applegreen}\bfseries,
	identifierstyle=\color{black},
	sensitive=true,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{black}\ttfamily,
	stringstyle=\color{fulvous}\bfseries,
	morestring=[b]',
	morestring=[b]",
	literate=
     *{[}{{{\color{violet}{[}}}}{1}
      {]}{{{\color{violet}{]}}}}{1}
       {-}{{{\color{violet}\bfseries{-}}}}{1},
}

\lstdefinelanguage{sparql}{
	keywords=[1]{} % generic keywords including crypto operations
	keywordstyle=[1]\color{blue}\bfseries,
	keywords=[2]{},	% types; money and time units
	keywordstyle=[2]\color{teal}\bfseries,
	keywords=[3]{block, blockhash, coinbase, difficulty, gaslimit, number, timestamp, msg, data, gas, sender, sig, value, now, tx, gasprice, origin},	% environment variables
	keywordstyle=[3]\color{violet}\bfseries,
	keywords=[4]{xsd, double, integer, boolean, decimal, string},
	keywordstyle=[4]\color{applegreen}\bfseries,
	keywordstyle=[5]\color{iris}\bfseries,
	keywords=[5]{GENERATE, REPLACE, WHERE, FILTER, BIND, CONSTRUCT, GRAPH},
	identifierstyle=\color{black},
	sensitive=false,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{gray}\ttfamily,
	stringstyle=\color{fulvous}\bfseries,
	morestring=[b]',
	morestring=[b]"
}

\lstdefinelanguage{concm}{
	keywords=[1]{} % generic keywords including crypto operations
	keywordstyle=[1]\color{blue}\bfseries,
	keywords=[2]{Locations, Cities, Sources, Rules},	% types; money and time units
	keywordstyle=[2]\color{violet}\bfseries,
	keywords=[3]{cm, dcat, expression, hasField, hasDataSource, mediaType, SourceFrame, accessService, hasProtocol, endpointURL, hasSecurityScheme, DataField, field, hasNestedFrame, ReferenceNodeMap, hasEvaluableExpression, hasFunctionName, hasInput, subject, predicate, hasFrame, constantValue, Literal, object, FunctionExpression, functionName, hasBooleanCondition, hasDatatype, source, target, property, LinkingExpression, ConditionalStatementMap, SynchronousSource, StatementMap, JoinCombination, datatype, language, combinesFrame, joinsBy, ListMap, hasLanguage},	% environment variables
	keywordstyle=[3]\color{steelblue}\bfseries,
	keywords=[4]{xsd, double, integer, boolean, decimal, string, time},
	keywordstyle=[4]\color{applegreen}\bfseries,
	identifierstyle=\color{black},
	sensitive=false,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{gray}\ttfamily,
	stringstyle=\color{fulvous}\bfseries,
	morestring=[b]',
	morestring=[b]",
}

\definecolor{verylightgray}{rgb}{.97,.97,.97}
\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\definecolor{iris}{rgb}{0.35, 0.31, 0.81}
\definecolor{richelectricblue}{rgb}{0.03, 0.57, 0.82}
\definecolor{shamrockgreen}{rgb}{0.0, 0.62, 0.38}
\definecolor{fulvous}{rgb}{0.86, 0.52, 0.0}
\definecolor{steelblue}{rgb}{0.27, 0.51, 0.71}

\lstdefinelanguage{Solidity}{
	%keywords=[1]{} % generic keywords including crypto operations
	%keywordstyle=[1]\color{blue}\bfseries,
	%keywords=[2]{CitiesSource, LocationSource, Locations, Cities},	% types; money and time units
	%keywordstyle=[2]\color{richelectricblue}\bfseries,
	%keywords=[3]{rr, xrr, logicalSource, subjectMap, predicateObjectMap, tableName, predicate, object, objectMap, template, reference, class, datatype, TriplesMap, LogicalTable, termType, rml, BlankNode,  predicateMap, NonAssertedTriplesMap, quotedTriplesMap},	% environment variables
	%keywordstyle=[3]\color{shamrockgreen}\bfseries,
	%keywords=[4]{xsd, double, integer, boolean, decimal, string, time},
	%keywordstyle=[4]\color{applegreen}\bfseries,
	identifierstyle=\color{black},
	sensitive=false,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{gray}\ttfamily,
	%stringstyle=\color{fulvous}\bfseries,
	morestring=[b]',
	morestring=[b]",
}

\lstset{
	language=Solidity,
	%backgroundcolor=\color{verylightgray},
	extendedchars=true,
	basicstyle=\footnotesize\ttfamily,
	showstringspaces=false,
	showspaces=false,
	numbers=left,
	numberstyle=\footnotesize,
	numbersep=9pt,
	tabsize=2,
	breaklines=true,
	showtabs=false,
	captionpos=b,
	frame=none
}

%% --

\usepackage{xparse}
\newcounter{captionedlistingcounter}
\NewDocumentEnvironment{captionedlisting}{mmm}{
	\refstepcounter{captionedlistingcounter}
	% commented out the figure part bc we don't need it and they couldn't be used in minipages
	% not sure if this is actually different from using the default listing captions/labels now
	%\begin{figure}[#3]
	{\centering\label{#1}}

}{

	\vspace{0.5\baselineskip}
	Listing \thecaptionedlistingcounter: #2
	\\%\end{figure}
}

\usepackage[capitalize,nameinlink]{cleveref}
\crefname{line}{line}{lines}
\Crefname{Line}{Line}{Lines}
\crefname{captionedlistingcounter}{Listing}{Listings}
\Crefname{captionedlistingcounter}{Listing}{Listings}
\crefformat{footnote}{#2\footnotemark[#1]#3}

%: Macro file for Latex
% Macros help you summarise frequently repeated Latex commands.
% Here, they are placed in an external file /Latex/Macros/MacroFile1.tex
% An macro that you may use frequently is the figuremacro (see introduction.tex)
%\include{Latex/Macros/MacroFile1}



%: ----------------------------------------------------------------------
%:                  TITLE PAGE: name, degree,..
% ----------------------------------------------------------------------
% below is to generate the title page with crest and author name

%if output to PDF then put the following in PDF header
\ifpdf  
    \pdfinfo { /Title 
               /Creator (TeX)
               /Producer (pdfTeX)
               /Author (Ana Iglesias Molina ana.iglesiasm@upm.es)
               /CreationDate (D:YYYYMMDDhhmmss)  %format D:YYYYMMDDhhmmss
               /ModDate (D:YYYYMMDDhhmm)
               /Subject (xyz)
               /Keywords () }
    \pdfcatalog { /PageMode (/UseOutlines)
                  /OpenAction (fitbh)  }
\fi

  
\title{Knowledge Graph Construction and Evolution using Declarative Mapping Languages}

% The role of mappings in Knowledge Graph construction and evolution



% ----------------------------------------------------------------------
% The section below defines www links/email for author and institutions
% They will appear on the title page of the PDF and can be clicked
\ifpdf
 
  \author{{\hspace{7mm} Ana Iglesias Molina}}
  \supervisor{Dr. Oscar Corcho}
	%
	
%  \cityofbirth{born in XYZ} % uncomment this if your university requires this
%  % If city of birth is required, also uncomment 2 sections in PhDthesisPSnPDF
%  % Just search for the "city" and you'll find them.
%  \collegeordept{{Programa de Doctorado de Inteligencia Artificial \\ Facultad de Inform\'atica}}  
%  \university{\href{http://www.upm.es}{Universidad Polit\'ecnica de Madrid}}  
  % The crest is a graphics file of the logo of your research institution.
  % Place it in ./0_frontmatter/figures and specify the width
%  \crest{\includegraphics[width=3cm]{escudofi.pdf}}
\crest{  
		\centering
 		\begin{tabular}{l c}
			\multirow{3}{*}{\includegraphics[width=2cm]{0_frontmatter/figures/escudofi.pdf}} & \\
			& \textbf{Programa de Doctorado de Inteligencia Artificial} \\ 
			& \textbf{Escuela T\'ecnica Superior de Ingenieros Inform\'aticos} \\
		\end{tabular}
}
% If you are not creating a PDF then use the following. The default is PDF.
\else
  \author{YourName}
%  \cityofbirth{born in XYZ}
  \collegeordept{CollegeOrDept}
  \university{University}
  \crest{\includegraphics[width=4cm]{logo}}
\fi

%\renewcommand{\submittedtext}{change the default text here if needed}
\degree{Philosophi\ae Doctor (PhD), DPhil,..}
\degreedate{XXX, 2023}


% ----------------------------------------------------------------------
       
% turn of those nasty overfull and underfull hboxes
%\tolerance=1
%\emergencystretch=\maxdimen
%\hyphenpenalty=10000






%% Sections

\newcommand{\lsection}[2]{
    \section{#2}
    \label{sec:#1}
}

\newcommand{\lsubsection}[2]{
    \subsection{#2}
    \label{sec:#1}
}

\newcommand{\lsubsubsection}[2]{
    \subsubsection{#2}
    \label{sec:#1}
}

\newcommand{\lsecref}[1]{\ref{sec:#1}}

\newcommand{\csubfloat}[2][]{%
  \makebox[0pt]{\subfloat[#1]{#2}}%
}
\newcommand{\centerhfill}[1][\quad]{\hspace{\stretch{0.5}}#1\hspace{\stretch{0.5}}}

\makeatletter
\newcommand\resetstackedplots{
\makeatletter
\pgfplots@stacked@isfirstplottrue
\makeatother
\addplot [forget plot,draw=none] coordinates{(1,0) (2,0) (3,0)};
}

%% /PIERRE

%: --------------------------------------------------------------
%:                  FRONT MATTER: dedications, abstract,..
% --------------------------------------------------------------

\begin{document}
\counterwithin{captionedlistingcounter}{chapter}

%\language{english}

% sets line spacing
\renewcommand\baselinestretch{1.2}
\baselineskip=18pt plus1pt

%\theoremstyle{plain}
%\newtheorem{thm}{Theorem}[chapter] % reset theorem numbering for each chapter


%\theoremstyle{definition}
%\newtheorem{definition}[thm]{Definition} % definition numbers are dependent on theorem numbers

\newcommand{\attention}[1]{{\color{red}\textbf{#1}}}

\renewcommand\appendixname{ANNEX}


%: ----------------------- generate cover page ------------------------
\frontmatter
\maketitle  % command to print the title page with above variables


%: ----------------------- cover page back side ------------------------
% Your research institution may require reviewer names, etc.
% This cover back side is required by Dresden Med Fac; uncomment if needed.

% ALVARO: I'll have to change this

%\newpage
\pagestyle{plain}
\cleardoublepage
\pagestyle{plain}


\noindent Tribunal nombrado por el Sr. Rector Magfco. de la Universidad Polit\'{e}cnica de
Madrid, el d\'{i}a TBD9 de Junio de 2021. %\mynote{DD de YYYY de 2015}

\vspace{10mm}
Presidente:\hspace{0.3mm} TBD%Dr. Marcelo Arenas

\vspace{5mm}
Vocal: \hspace{6.7mm} TBD%Dr. Juan Sequeda 

\vspace{5mm}
Vocal: \hspace{6.7mm} TBD%DrDra. Anastasia Dimou

\vspace{5mm}
Vocal: \hspace{6.7mm} TBD%DrDr. Álvaro Sicilia Gómez 


\vspace{5mm}
Secretario:\hspace{0.67mm} TBD%DrDr. Raúl García Castro

\vspace{5mm}
Suplente: \hspace{1.5mm} TBD%DrDr. Mariano Fernández López   

\vspace{5mm}
Suplente: \hspace{1.5mm} TBD%DrDr. Alberto Bugarín Díz

\vspace{10mm}
\noindent Realizado el acto de defensa y lectura de la Tesis el d\'{i}a \textcolor{red}{28 de Junio de 2021} en la Escuela T\'ecnica Superior de Ingenieros Inform\'aticos

\vspace{5mm}
\noindent Calificaci\'{o}n: \rule{123mm}{0.2mm}
\vspace{20mm}

EL PRESIDENTE \hspace{30mm} VOCAL 1 \hspace{30mm} VOCAL 2

\vspace{30mm}
%\begin{center}
\hspace{15mm} VOCAL 3 \hspace{45mm} EL SECRETARIO
%\end{center}




%: ----------------------- tie in front matter ------------------------

%\frontmatter
\cleardoublepage
\input{0_frontmatter/dedication}
\cleardoublepage
\input{0_frontmatter/acknowledgement}


%: ----------------------- abstract ------------------------

% Your institution may have specific regulations if you need an abstract and where it is to be placed in the document. The default here is just after title.
\cleardoublepage
\input{0_frontmatter/abstract}

% The original template provides and abstractseparate environment, if your institution requires them to be separate. I think it's easier to print the abstract from the complete thesis by restricting printing to the relevant page.
% \begin{abstractseparate}
%   \input{Abstract/abstract}
% \end{abstractseparate}


%: ----------------------- contents ------------------------
\cleardoublepage
\setcounter{secnumdepth}{3} % organisational level that receives a numbers
\setcounter{tocdepth}{2}    % print table of contents for level 3
\tableofcontents           % print the table of contents
% levels are: 0 - chapter, 1 - section, 2 - subsection, 3 - subsection


%: ----------------------- list of figures/tables ------------------------

\listoffigures	% print list of figures

\listoftables  % print list of tables

\listofalgorithms % Print list of algorithms


%: ----------------------- glossary ------------------------

% Tie in external source file for definitions: /0_frontmatter/glossary.tex
% Glossary entries can also be defined in the main text. See glossary.tex

%\include{0_frontmatter/glossary} 
%
%\begin{multicols}{2} % \begin{multicols}{#columns}[header text][space]
%\begin{footnotesize} % scriptsize(7) < footnotesize(8) < small (9) < normal (10)
%
%\printnomenclature[1.5cm] % [] = distance between entry and description
%\label{nom} % target name for links to glossary
%
%\end{footnotesize}
%\end{multicols}



%: --------------------------------------------------------------
%:                  MAIN DOCUMENT SECTION
% --------------------------------------------------------------

% the main text starts here with the introduction, 1st chapter,...
\mainmatter

%\renewcommand{\chaptername}{} % uncomment to print only "1" not "Chapter 1"
%\titleformat{\chapter}[display]{\normalfont\bfseries\}{\chaptertitlename\ \thechapter}{5pt}{\Huge}

%-#####-> Uncomment to have Andres' style for chapter title

%\titleformat{\chapter}[display]
%{\bfseries\Large}
%{\filleft\MakeUppercase{\chaptertitlename} \Huge\thechapter}
%{4ex}
%{\titlerule
%\vspace{2ex}%
%\filright}
%[\vspace{2ex}%
%\titlerule]

%-#####-> End uncomment

%"In a world of infinite content, knowledge becomes valuable" Denny Vrandečić

\input{1_introduction/1-0_introduction}

\input{2_stateoftheart/2-0_stateofart}

\input{3_objectives/3-0_objectives}

\input{4_mappings/4-0_mappings}

\input{5_creation/5-0_creation}

\input{6_reframing/6-0_reframing}

\input{7_conclusions/7-0_conclusions}

\appendix
\include{appendix/appendix1}






% --------------------------------------------------------------
%:                  BACK MATTER: appendices, refs,..
% --------------------------------------------------------------

% the back matter: appendix and references close the thesis


%\include{appendix/questions}
%\include{appendix/wicusontos}
%\include{appendix/annotations}
%\include{appendix/files}
%\include{appendix/terminology}

%: ----------------------- bibliography ------------------------

% The section below defines how references are listed and formatted
% The default below is 2 columns, small font, complete author names.
% Entries are also linked back to the page number in the text and to external URL if provided in the BibTex file.

% PhDbiblio-url2 = names small caps, title bold & hyperlinked, link to page 
%\begin{multicols}{2} % \begin{multicols}{ # columns}[ header text][ space]
%\begin{tiny} % tiny(5) < scriptsize(7) < footnotesize(8) < small (9)

%\bibliographystyle{Latex/Classes/PhDbiblio-case} % Title is link if provided
\bibliographystyle{Latex/Classes/jmb}
%\bibliographystyle{plainnat}
%\renewcommand{\bibname}{Bibliography} % changes the header; default: Bibliography
\bibliography{bibliography/bibliography} % adjust this to fit your BibTex file

%\end{tiny}
%\end{multicols}



% --------------------------------------------------------------
% Various bibliography styles exit. Replace above style as desired.

% in-text refs: (1) (1; 2)
% ref list: alphabetical; author(s) in small caps; initials last name; page(s)
%\bibliographystyle{Latex/Classes/PhDbiblio-case} % title forced lower case
%\bibliographystyle{Latex/Classes/PhDbiblio-bold} % title as in bibtex but bold
%\bibliographystyle{Latex/Classes/PhDbiblio-url} % bold + www link if provided

%\bibliographystyle{Latex/Classes/jmb} % calls style file jmb.bst
% in-text refs: author (year) without brackets
% ref list: alphabetical; author(s) in normal font; last name, initials; page(s)

%\bibliographystyle{plainnat} % calls style file plainnat.bst
% in-text refs: author (year) without brackets
% (this works with package natbib)


% --------------------------------------------------------------
 
% according to Dresden med fac summary has to be at the end
%\include{0_frontmatter/abstract}

%: Declaration of originality
%\include{12_bibliography/declaration}



\end{document}